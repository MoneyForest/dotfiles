# Gitleaks configuration for dotfiles repository
# https://github.com/gitleaks/gitleaks

title = "Dotfiles Gitleaks Config"

# Extend the default gitleaks config
[extend]
useDefault = true

# Paths to ignore (regex patterns)
[allowlist]
paths = [
    '''prezto/.*''',           # Prezto submodule
    '''\.md$''',               # Markdown files (documentation)
    '''\.gitleaks\.toml$''',   # This config file
]

# Specific patterns to allow (false positives)
regexes = [
    '''example''',             # Example values in configs
    '''placeholder''',         # Placeholder values
    '''your[_-]?api[_-]?key''', # Placeholder API key patterns
]

# Additional rules for dotfiles-specific secrets
[[rules]]
id = "dotfiles-env-file"
description = "Environment file with secrets"
regex = '''\.env(?:\.[a-zA-Z]+)?$'''
path = '''\.env'''
tags = ["env", "secret"]

[[rules]]
id = "zsh-private"
description = "Private zsh configuration"
path = '''\.zsh_private'''
tags = ["shell", "secret"]
